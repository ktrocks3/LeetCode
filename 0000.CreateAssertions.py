from typing import List
import re


def makeAssertion(args: str, sol: str):
    global name
    print(f'assert Solution().{name}({args[1:len(args) - 1]}) == {sol}, \\'
          f'\n  f\'Expected: {sol}, Received: {{Solution().{name}({args[1:len(args) - 1]})}}\'')


def parse_input(input_string):
    values = []
    buffer = ""
    depth = 0

    for char in input_string:
        if char == "," and depth == 0:  # Split only at top-level commas
            if "=" in buffer:
                values.append(buffer.split("=", 1)[1].strip())
            buffer = ""
        else:
            if char == "[":
                depth += 1
            elif char == "]":
                depth -= 1
            buffer += char

    # Add the last captured value
    if buffer and "=" in buffer:
        values.append(buffer.split("=", 1)[1].strip())

    # Evaluate the captured values to convert strings to lists, ints, etc.
    return [eval(value) for value in values]


def formatLC(in_out: str):
    input_string, out = in_out.split('\n')
    out = out[7:].strip()
    if out == "true":
        out = "True"
    if out == "false":
        out = "False"
    parsed_values = str(parse_input(input_string))
    makeAssertion(parsed_values, out)


def testcases(case: str, num: int):
    case = case.split('\n')
    for i in range(0, len(case), num):
        collected = []
        for j in range(num):
            collected.append(case[i + j])
        collected = ','.join(collected)
        print(f'Solution().{name}({collected})')


name = "shortestDistanceAfterQueries"
formatLC("""Input: n = 5, queries = [[2,4],[0,2],[0,4]]
Output: [3,2,1]""")
formatLC("""Input: n = 4, queries = [[0,3],[0,2]]
Output: [1,1]""")
formatLC("""Input: n = 14, queries = [[0,6], [4,12]]
Output: [8,6]""")
testcases("""15
[[10,12],[6,12]]
14
[[0,6],[4,12]]
7
[[3,6],[0,6],[2,5],[0,2]]
8
[[4,7],[2,4],[1,6],[2,7],[0,2],[2,5]]
14
[[1,7],[11,13],[6,10],[5,12],[4,8],[8,11],[0,6],[2,13],[0,5],[1,8],[10,13]]
17
[[0,13],[1,8],[0,5],[8,11],[5,9],[11,16],[1,3],[0,2],[3,12],[1,15],[5,15],[9,16],[7,14],[8,10],[9,15],[1,6],[1,12],[4,9],[6,14],[6,9],[10,12],[3,10],[9,14],[8,15],[4,11],[4,15],[5,14],[5,7],[8,12],[10,16],[13,16],[10,15],[2,4],[1,10]]
15
[[1,12],[1,10],[11,13],[10,12],[3,11],[7,13],[3,7],[6,8],[1,13],[2,5],[0,13],[10,14],[3,9],[4,8],[7,12],[2,6],[3,12],[5,10],[6,13],[0,12],[3,6],[7,10],[2,11],[7,14],[1,14],[3,5],[6,12],[5,13],[5,7],[0,9],[8,14],[2,13],[4,13],[4,10],[1,3],[8,13],[0,11],[0,10],[11,14],[3,8],[1,11],[0,8],[1,6],[4,14],[5,8],[3,14],[1,9],[6,14],[4,11],[6,11],[1,4],[2,4],[7,9],[6,9],[5,14],[5,11],[1,7],[9,12],[2,9],[5,9]]
500
[[165,168],[300,304],[391,396],[99,153],[188,457],[97,481],[97,204],[216,354],[293,342],[273,318],[23,115],[12,250],[87,350],[257,431],[167,389],[4,186],[127,495],[339,398],[197,487],[77,221],[29,445],[431,475],[165,285],[352,403],[19,291],[289,449],[55,494],[261,417],[195,225],[116,429],[227,259],[295,304],[16,421],[261,286],[163,183],[31,56],[10,272],[93,448],[123,476],[158,372],[359,414],[78,121],[150,305],[205,282],[337,385],[24,224],[114,338],[129,312],[55,316],[42,150],[172,479],[50,376],[221,445],[104,294],[198,488],[48,268],[49,420],[14,105],[55,282],[19,386],[92,300],[217,391],[257,430],[124,435],[177,307],[348,363],[196,346],[22,86],[190,410],[102,117],[380,430],[4,240],[202,435],[1,206],[95,131],[244,345],[15,214],[4,302],[181,209],[94,376],[23,48],[92,141],[435,461],[414,476],[151,167],[58,126],[175,202],[80,281],[84,479],[244,325],[119,456],[203,492],[290,344],[20,424],[339,391],[304,411],[106,198],[113,401],[373,404],[122,378],[139,432],[39,75],[91,487],[23,450],[82,341],[80,84],[100,193],[371,412],[37,286],[220,315],[14,381],[337,397],[389,494],[385,474],[87,169],[236,415],[103,479],[81,393],[129,190],[63,334],[41,292],[72,332],[16,246],[19,184],[32,316],[255,356],[151,419],[284,470],[18,405],[245,493],[115,366],[194,383],[67,387],[337,401],[352,397],[46,418],[96,401],[300,449],[140,155],[68,408],[1,173],[89,282],[385,461],[173,464],[122,172],[188,272],[34,372],[46,80],[124,472],[25,80],[320,476],[72,300],[111,235],[89,488],[178,285],[145,361],[50,350],[135,286],[38,102],[86,240],[256,280],[43,76],[155,472],[157,276],[152,362],[191,416],[63,429],[12,106],[23,120],[234,381],[394,426],[85,102],[1,150],[246,259],[21,425],[76,145],[94,116],[79,304],[357,414],[171,234],[115,304],[264,428],[242,284],[37,44],[157,284],[169,225],[343,417],[77,148],[119,424],[93,166],[271,477],[102,230],[123,379],[104,347],[277,440],[39,196],[137,298],[209,342],[164,325],[341,477],[37,84],[25,196],[217,235],[36,157],[28,470],[164,197],[253,289],[252,318],[487,489],[85,353],[135,173],[57,106],[144,199],[155,200],[235,427],[341,395],[56,309],[166,346],[155,296],[282,289],[353,476],[474,479],[262,355],[205,476],[231,450],[108,121],[177,371],[204,337],[286,322],[55,419],[243,257],[290,323],[59,484],[29,71],[56,432],[205,472],[150,451],[161,280],[130,389],[184,411],[39,78],[54,438],[201,298],[119,193],[330,407],[41,456],[181,183],[163,281],[117,347],[395,404],[182,272],[94,134],[51,57],[99,252],[394,410],[57,322],[234,350],[20,63],[88,474],[178,333],[61,101],[153,381],[196,392],[449,471],[288,438],[361,463],[86,430],[263,285],[57,434],[141,188],[225,452],[272,369],[98,353],[49,276],[453,483],[128,478],[7,85],[160,456],[71,145],[135,331],[139,349],[117,199],[260,391],[23,64],[338,414],[240,327],[93,356],[313,410],[272,418],[335,378],[50,305],[43,335],[302,311],[436,442],[286,464],[156,393],[271,366],[43,399],[154,191],[202,488],[188,254],[386,477],[93,96],[51,103],[104,355],[31,439],[76,295],[90,421],[481,483],[362,422],[227,333],[4,412],[3,239],[42,383],[261,277],[43,213],[205,350],[61,432],[197,338],[142,330],[87,276],[363,494],[79,276],[1,9],[83,283],[107,330],[165,423],[77,219],[47,265],[158,428],[80,493],[167,322],[386,471],[398,404],[325,422],[196,339],[405,433],[160,345],[342,444],[287,412],[260,325],[194,410],[276,428],[451,487],[3,74],[219,465],[212,371],[93,352],[104,178],[181,274],[213,479],[74,214],[127,263],[289,459],[160,192],[109,118],[458,496],[295,377],[151,230],[40,432],[27,409],[330,374],[354,418],[210,363],[45,404],[245,354],[248,417],[122,259],[52,166],[125,186],[375,387],[77,335],[0,22],[40,165],[14,392],[178,217],[272,301],[289,341],[39,426],[180,328],[30,453],[307,438],[185,211],[133,367],[81,120],[229,453],[293,347],[21,346],[267,478],[101,121],[321,346],[379,401],[139,314],[294,436],[347,393],[269,358],[231,441],[50,437],[135,241],[136,222],[220,314],[165,210],[133,421],[37,319],[116,262],[184,356],[217,292],[335,404],[366,435],[179,256],[6,22],[279,486],[159,211],[340,387],[141,411],[144,196],[60,495],[443,488],[424,434],[63,396],[321,480],[184,491],[201,224],[60,241],[288,301],[27,112],[297,353],[25,269],[74,284],[246,290],[10,456],[169,274],[122,447],[336,469],[495,497]]""",
          2)
